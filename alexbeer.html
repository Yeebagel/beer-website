<!DOCTYPE html>
<html>
<head>
    <title>Alexander Beer Fanpage</title>
    <style>
        img {
            width: 20%;
        }
    </style>
</head>
<canvas onmousedown="play()" id="myCanvas" width="window.innerWidth-30" height="window.innerHeight-40"></canvas>
<body>
    <img id="source" src="fullbeerfourfing.PNG" height="0">
    <script>
        var canvas = document.getElementById( "myCanvas" );
        var context = canvas.getContext( "2d" );
        const image = document.getElementById("source");
        let timeout;

        function play(){
            var audio = new Audio('All Of The Lights.mp3');
            audio.play();
        }
        function setup() {
        clearTimeout(timeout); // ADDED
        var width = window.innerWidth-30; // CHANGED
        var height = window.innerHeight-40; // CHANGED

        canvas.width = width; // ADDED
        canvas.height = height //ADDED

        var text = {
            draw:function( ctx , text )
            {
                ctx.font = "100px sans"
                ctx.fillText(text, 800, 600);
                ctx.font = "10px sans"
                ctx.fillText("psst! click anywhere",20,20)
            }
        }
        var ball = {
            x: 100,
            y: 100,
            w: 400,
            h: 400,
            xSpeed: 3,
            ySpeed: 3,
            draw: function( ctx ) {
                ctx.drawImage(image, this.x, this.y, this.w, this.h)
            },
            move: function() {
                this.x += this.xSpeed;
                this.y += this.ySpeed;
            }
        }

        timeout = setInterval( function(){
            
            context.clearRect( 0, 0, width, height );
            context.strokeRect( 0, 0, width, height );
            
            ball.move();
            
            // right 
            if ( ball.x + (ball.w) >= width ) {
                ball.x = width - (ball.w);
                ball.xSpeed = -ball.xSpeed;
            }
            
            // left
            if ( ball.x  <= 0 ) {
                ball.x = 0;
                ball.xSpeed = -ball.xSpeed;
            }
            
            // down
            if ( ball.y + (ball.h) >= height ) {
                ball.y = height - (ball.h);
                ball.ySpeed = -ball.ySpeed;
            }
            
            // up
            if ( ball.y <= 0 ) {
                ball.y = 0;
                ball.ySpeed = -ball.ySpeed;
            }
            
            ball.draw( context );
            text.draw(context,"\"I am not a womanizer\"");
            
        }, 10 );
        }
        window.onresize = setup;
        setup();
    </script>
</body>
</html>
